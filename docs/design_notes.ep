<?xml version="1.0"?>
<Document xmlns="http://www.evolus.vn/Namespace/Pencil"><Properties/><Pages><Page><Properties><Property name="name">Design_notes</Property><Property name="id">1459782969386_4802</Property><Property name="width">1531</Property><Property name="height">854</Property><Property name="dimBackground"/><Property name="transparentBackground">true</Property><Property name="backgroundColor">#FFFFFFFF</Property><Property name="background">transparent</Property></Properties><Content><g xmlns="http://www.w3.org/2000/svg" p:type="Shape" xmlns:p="http://www.evolus.vn/Namespace/Pencil" p:def="Evolus.Flowchart:Connector" id="3dc3e9ab2f7543eea8a0517124b19e33" transform="matrix(1,0,0,1,201,132)"><p:metadata><p:property name="box"><![CDATA[211,90]]></p:property><p:property name="outputPin1Origin"><![CDATA[105.5,0]]></p:property><p:property name="outputPin1"><![CDATA[105.5,0]]></p:property><p:property name="outputPin2Origin"><![CDATA[211,45]]></p:property><p:property name="outputPin2"><![CDATA[211,45]]></p:property><p:property name="outputPin3Origin"><![CDATA[105.5,90]]></p:property><p:property name="outputPin3"><![CDATA[105.5,90]]></p:property><p:property name="outputPin4Origin"><![CDATA[0,45]]></p:property><p:property name="outputPin4"><![CDATA[0,45]]></p:property><p:property name="fillColor"><![CDATA[#BDDFFFFF]]></p:property><p:property name="strokeColor"><![CDATA[#666666FF]]></p:property><p:property name="strokeStyle"><![CDATA[2|]]></p:property><p:property name="textContent"><![CDATA[Unlocked]]></p:property><p:property name="textFont"><![CDATA[Helvetica|normal|normal|12px|none]]></p:property><p:property name="textColor"><![CDATA[#000000FF]]></p:property><p:property name="textAlign"><![CDATA[1,1]]></p:property></p:metadata>
            <ellipse style="stroke-linejoin: round; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2; fill: rgb(189, 223, 255); fill-opacity: 1;" p:name="path" id="2012499e701e40d2baf6ca313f0bb0b2" transform="translate(0,0)" cx="105.5" cy="45" rx="105.5" ry="45"/>

            <text text-anchor="start" xml:space="preserve" p:name="text" id="5a0e22b068224cf69b9d2fb09f3661dd" style="font-family: Helvetica; font-size: 12px; font-weight: normal; font-style: normal; text-decoration: none; fill: rgb(0, 0, 0); fill-opacity: 1;" transform="translate(7,50)"><tspan x="71.5" y="0">Unlocked</tspan></text>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow1" id="20e8ffd333e54ae8a887d379d8de8ebe" d=""/>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow2" id="a9da3e3520304f2ba0a70d94e6571131" d=""/>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow3" id="648efc78ff6c4b13b7efae80c18fd519" d=""/>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow4" id="d9528b56100e45429b41d7b3577abb7a" d=""/>
        </g><g xmlns="http://www.w3.org/2000/svg" p:type="Shape" xmlns:p="http://www.evolus.vn/Namespace/Pencil" p:def="Evolus.Flowchart:Connector" id="9adb7a54756f42b2996d021dfa0f9528" transform="matrix(1,0,0,1,443,132)"><p:metadata><p:property name="box"><![CDATA[211,90]]></p:property><p:property name="outputPin1Origin"><![CDATA[105.5,0]]></p:property><p:property name="outputPin1"><![CDATA[105.5,0]]></p:property><p:property name="outputPin2Origin"><![CDATA[211,45]]></p:property><p:property name="outputPin2"><![CDATA[211,45]]></p:property><p:property name="outputPin3Origin"><![CDATA[105.5,90]]></p:property><p:property name="outputPin3"><![CDATA[105.5,90]]></p:property><p:property name="outputPin4Origin"><![CDATA[0,45]]></p:property><p:property name="outputPin4"><![CDATA[0,45]]></p:property><p:property name="fillColor"><![CDATA[#BDDFFFFF]]></p:property><p:property name="strokeColor"><![CDATA[#666666FF]]></p:property><p:property name="strokeStyle"><![CDATA[2|]]></p:property><p:property name="textContent"><![CDATA[Locked]]></p:property><p:property name="textFont"><![CDATA[Helvetica|normal|normal|12px|none]]></p:property><p:property name="textColor"><![CDATA[#000000FF]]></p:property><p:property name="textAlign"><![CDATA[1,1]]></p:property></p:metadata>
            <ellipse style="stroke-linejoin: round; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2; fill: rgb(189, 223, 255); fill-opacity: 1;" p:name="path" id="2e708718d9984d2eb50670d38891122e" transform="translate(0,0)" cx="105.5" cy="45" rx="105.5" ry="45"/>

            <text text-anchor="start" xml:space="preserve" p:name="text" id="3e25362f3ef446fcb0d912e8bdc8d159" style="font-family: Helvetica; font-size: 12px; font-weight: normal; font-style: normal; text-decoration: none; fill: rgb(0, 0, 0); fill-opacity: 1;" transform="translate(7,50)"><tspan x="77.5" y="0">Locked</tspan></text>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow1" id="ec4022d4a21a4db0b6c2cce3aa0ac7e6" d=""/>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow2" id="cad24e3d10b0441aaa90ceeee41e8fc3" d=""/>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow3" id="43032c7a80db49abb52cd0fbfeee0e7e" d=""/>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow4" id="1c7edb1b7b9245b9b034923d81ff9a67" d=""/>
        </g><g xmlns="http://www.w3.org/2000/svg" p:type="Shape" xmlns:p="http://www.evolus.vn/Namespace/Pencil" p:def="Evolus.Common:arrow" p:sc="Curvy Connector" id="83553ebda68a4907ae19b637f4935993" transform="matrix(1,0,0,1,170,256)"><p:metadata><p:property name="startPin" p:connectedShapeId="3dc3e9ab2f7543eea8a0517124b19e33" p:connectedOutletId="top-center" p:viax="136.5" p:viay="-134"><![CDATA[136.5,-124]]></p:property><p:property name="endPin" p:viay="-134" p:viax="378.5" p:connectedOutletId="top-center" p:connectedShapeId="9adb7a54756f42b2996d021dfa0f9528"><![CDATA[378.5,-124]]></p:property><p:property name="withStartArrow"><![CDATA[false]]></p:property><p:property name="withEndArrow"><![CDATA[true]]></p:property><p:property name="mode"><![CDATA[curvy]]></p:property><p:property name="detached"><![CDATA[false]]></p:property><p:property name="strokeColor"><![CDATA[#666666FF]]></p:property><p:property name="strokeStyle"><![CDATA[2|]]></p:property><p:property name="textContent"><![CDATA[Apply lock request]]></p:property><p:property name="textFont"><![CDATA[Helvetica|normal|normal|12px|none]]></p:property><p:property name="textColor"><![CDATA[#000000FF]]></p:property><p:property name="textAlign"><![CDATA[1,1]]></p:property></p:metadata>
            <defs>
                <path style="stroke-linejoin: round; fill: none;" p:name="path" id="60489834fe3a495eb45a781f5b163d03" d="M 136.5 -124 C 139 -184 379 -184 378.5 -124 M 384 -130 L 378.5 -124 L 373 -130"/>
            </defs>
            <use xlink:href="#60489834fe3a495eb45a781f5b163d03" xmlns:xlink="http://www.w3.org/1999/xlink" stroke-width="10" stroke-opacity="0" stroke="#FF0000"/>
            <use xlink:href="#60489834fe3a495eb45a781f5b163d03" xmlns:xlink="http://www.w3.org/1999/xlink" p:name="outArrow1" id="d0bbf780506049db8659e7fbf602030b" style="stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;"/>
            <text p:name="text" id="9e2bf83a21524419b75eb4c0503aa22e" style="fill: rgb(0, 0, 0); fill-opacity: 1; font-family: Helvetica; font-size: 12px; font-weight: normal; font-style: normal; text-decoration: none;">
                <textPath xlink:href="#60489834fe3a495eb45a781f5b163d03" xmlns:xlink="http://www.w3.org/1999/xlink" startOffset="50%" text-anchor="middle" alignment-baseline="middle">
                    <tspan dy="-4" p:name="textSpan" id="e5f8ee151c2f41e8ad5b0163edb0cfd5" dx="-16">Apply lock request</tspan>
                </textPath>
            </text>

        </g><g xmlns="http://www.w3.org/2000/svg" p:type="Shape" xmlns:p="http://www.evolus.vn/Namespace/Pencil" p:def="Evolus.Common:arrow" p:sc="Curvy Connector" id="10e955e0f09f4a9ea32ba52778bb853e" transform="matrix(1,0,0,1,524,319)"><p:metadata><p:property name="startPin" p:connectedShapeId="3dc3e9ab2f7543eea8a0517124b19e33" p:connectedOutletId="bottom-center" p:viax="-217.5" p:viay="-87"><![CDATA[-217.5,-97]]></p:property><p:property name="endPin" p:viay="-87" p:viax="24.5" p:connectedOutletId="bottom-center" p:connectedShapeId="9adb7a54756f42b2996d021dfa0f9528"><![CDATA[24.5,-97]]></p:property><p:property name="withStartArrow"><![CDATA[true]]></p:property><p:property name="withEndArrow"><![CDATA[false]]></p:property><p:property name="mode"><![CDATA[curvy]]></p:property><p:property name="detached"><![CDATA[false]]></p:property><p:property name="strokeColor"><![CDATA[#666666FF]]></p:property><p:property name="strokeStyle"><![CDATA[2|]]></p:property><p:property name="textContent"><![CDATA[Apply unlock request]]></p:property><p:property name="textFont"><![CDATA[Helvetica|normal|normal|12px|none]]></p:property><p:property name="textColor"><![CDATA[#000000FF]]></p:property><p:property name="textAlign"><![CDATA[1,1]]></p:property></p:metadata>
            <defs>
                <path style="stroke-linejoin: round; fill: none;" p:name="path" id="1d195f4f620643c98083626d75995286" d="M -223 -91 L -217.5 -97 L -212 -92 M -217.5 -97 C -215 -37 25 -37 24.5 -97"/>
            </defs>
            <use xlink:href="#1d195f4f620643c98083626d75995286" xmlns:xlink="http://www.w3.org/1999/xlink" stroke-width="10" stroke-opacity="0" stroke="#FF0000"/>
            <use xlink:href="#1d195f4f620643c98083626d75995286" xmlns:xlink="http://www.w3.org/1999/xlink" p:name="outArrow1" id="ce0bed09259247be938f48b8be207fdb" style="stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;"/>
            <text p:name="text" id="10a9421aa04448a89859a4ca03a5f25d" style="fill: rgb(0, 0, 0); fill-opacity: 1; font-family: Helvetica; font-size: 12px; font-weight: normal; font-style: normal; text-decoration: none;">
                <textPath xlink:href="#1d195f4f620643c98083626d75995286" xmlns:xlink="http://www.w3.org/1999/xlink" startOffset="50%" text-anchor="middle" alignment-baseline="middle">
                    <tspan dy="-4" p:name="textSpan" id="a7097de930744c76aafb6c14f1f63ed8" dx="16">Apply unlock request</tspan>
                </textPath>
            </text>

        </g><g xmlns="http://www.w3.org/2000/svg" p:type="Shape" xmlns:p="http://www.evolus.vn/Namespace/Pencil" p:def="Evolus.Flowchart:Connector" id="232be9661d5f40ea9640df2500511920" transform="matrix(1,0,0,1,201,317)"><p:metadata><p:property name="box"><![CDATA[211,90]]></p:property><p:property name="outputPin1Origin"><![CDATA[105.5,0]]></p:property><p:property name="outputPin1"><![CDATA[105.5,0]]></p:property><p:property name="outputPin2Origin"><![CDATA[211,45]]></p:property><p:property name="outputPin2"><![CDATA[211,45]]></p:property><p:property name="outputPin3Origin"><![CDATA[105.5,90]]></p:property><p:property name="outputPin3"><![CDATA[105.5,90]]></p:property><p:property name="outputPin4Origin"><![CDATA[0,45]]></p:property><p:property name="outputPin4"><![CDATA[0,45]]></p:property><p:property name="fillColor"><![CDATA[#BDDFFFFF]]></p:property><p:property name="strokeColor"><![CDATA[#666666FF]]></p:property><p:property name="strokeStyle"><![CDATA[2|]]></p:property><p:property name="textContent"><![CDATA[Awaiting Locked]]></p:property><p:property name="textFont"><![CDATA[Helvetica|normal|normal|12px|none]]></p:property><p:property name="textColor"><![CDATA[#000000FF]]></p:property><p:property name="textAlign"><![CDATA[1,1]]></p:property></p:metadata>
            <ellipse style="stroke-linejoin: round; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2; fill: rgb(189, 223, 255); fill-opacity: 1;" p:name="path" id="32999786065f4682bca22db68c7a624f" transform="translate(0,0)" cx="105.5" cy="45" rx="105.5" ry="45"/>

            <text text-anchor="start" xml:space="preserve" p:name="text" id="2cf7429c46274363b7f8b0efa826ce96" style="font-family: Helvetica; font-size: 12px; font-weight: normal; font-style: normal; text-decoration: none; fill: rgb(0, 0, 0); fill-opacity: 1;" transform="translate(8,50)"><tspan x="52.5" y="0">Awaiting Locked</tspan></text>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow1" id="0ec8f8826daf4045815e50a5bcd36ecb" d=""/>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow2" id="49fc57ab7ce1434d9941e74632be272f" d=""/>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow3" id="659a7709c8c047edb523e0498bf7f39a" d=""/>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow4" id="b19760a2d26d4b99a813d6d1aea0d568" d=""/>
        </g><g xmlns="http://www.w3.org/2000/svg" p:type="Shape" xmlns:p="http://www.evolus.vn/Namespace/Pencil" p:def="Evolus.Flowchart:Connector" id="5e45ea9131404899b62c9e94c30eee00" transform="matrix(1,0,0,1,443,317)"><p:metadata><p:property name="box"><![CDATA[211,90]]></p:property><p:property name="outputPin1Origin"><![CDATA[105.5,0]]></p:property><p:property name="outputPin1"><![CDATA[105.5,0]]></p:property><p:property name="outputPin2Origin"><![CDATA[211,45]]></p:property><p:property name="outputPin2"><![CDATA[211,45]]></p:property><p:property name="outputPin3Origin"><![CDATA[105.5,90]]></p:property><p:property name="outputPin3"><![CDATA[105.5,90]]></p:property><p:property name="outputPin4Origin"><![CDATA[0,45]]></p:property><p:property name="outputPin4"><![CDATA[0,45]]></p:property><p:property name="fillColor"><![CDATA[#BDDFFFFF]]></p:property><p:property name="strokeColor"><![CDATA[#666666FF]]></p:property><p:property name="strokeStyle"><![CDATA[2|]]></p:property><p:property name="textContent"><![CDATA[Has Locked]]></p:property><p:property name="textFont"><![CDATA[Helvetica|normal|normal|12px|none]]></p:property><p:property name="textColor"><![CDATA[#000000FF]]></p:property><p:property name="textAlign"><![CDATA[1,1]]></p:property></p:metadata>
            <ellipse style="stroke-linejoin: round; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2; fill: rgb(189, 223, 255); fill-opacity: 1;" p:name="path" id="f0ff9980c3ce48c2a47d1b25ab304f6b" transform="translate(0,0)" cx="105.5" cy="45" rx="105.5" ry="45"/>

            <text text-anchor="start" xml:space="preserve" p:name="text" id="5ff598065f3a4ac1af35358049757fe3" style="font-family: Helvetica; font-size: 12px; font-weight: normal; font-style: normal; text-decoration: none; fill: rgb(0, 0, 0); fill-opacity: 1;" transform="translate(7,50)"><tspan x="64.5" y="0">Has Locked</tspan></text>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow1" id="0c0b5d864bc2412c84ad51191322a572" d=""/>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow2" id="cdd5104db03c41fcbb30e2a3cee1148e" d=""/>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow3" id="a9107e4a829c49128c20ad80c08e3182" d=""/>
            <path style="stroke-linejoin: round; fill: none; stroke: rgb(102, 102, 102); stroke-opacity: 1; stroke-width: 2;" p:name="outputArrrow4" id="ce3deab3c71747b9a85016a2be4c7157" d=""/>
        </g><g xmlns="http://www.w3.org/2000/svg" p:type="Shape" xmlns:p="http://www.evolus.vn/Namespace/Pencil" p:def="Evolus.Common:RoundedRect" id="202fd032a6404fc5b7c5bab823ad7334" transform="matrix(1,0,0,1,721,42)"><p:metadata><p:property name="box"><![CDATA[641,770]]></p:property><p:property name="withBlur"><![CDATA[false]]></p:property><p:property name="radius"><![CDATA[0,0]]></p:property><p:property name="textPadding"><![CDATA[0,96.25000000000001]]></p:property><p:property name="fillColor"><![CDATA[#FFFFFFFF]]></p:property><p:property name="strokeColor"><![CDATA[#1B3280FF]]></p:property><p:property name="strokeStyle"><![CDATA[2|]]></p:property><p:property name="textContent"><![CDATA[GETTING A LOCK:<br />----------------------------<br />* Create a locking record for Client ID / Object ID<br />* Set lock to status of "Awaiting lock"<br />* Wait synch/asynch MS (milliseconds)<br />* Scan for other locks<br />* First "Awaiting lock" status get the lock.<br />* Set that first record to "Locked"<br />* Set a lock-expiration (if applicable)<br /><br />RELEASING A LOCK:<br />--------------------------------<br />* Ensure still has-lock and not expired.<br />* Set the lock status to "Unlocked"<br />* Record date-time of unlocking<br /><br />MISCELLANEOUS<br />----------------------------<br />* Lock contentions are resolved by giving the lock to the first-in-line (FIFO locking)<br />* Expirations allows dead-client locks to be removed by subsequent clients.<br />* Expirations allow live-clients to keep extending (if alive) their expirations.<br />* Expirations allow live-clients with valid memory data sets to auto-save (if desired).<br />* Expired expirations allow live-clients to test for merge conflicts and resolve.<br /><br />Rules around expirations of data-editing can be built to satisfy even the most discriminating use-cases.<br /><br />Another choice is to "Live-edit", where as soon as data item collections become valid, their data is flushed to storage immediately.<br /><br />There is also other possibilities:<br /><br />1. Showing users the changes that each other is making.<br />2. User-chatting with regard to ad-hoc in-memory changes vs. last DB version.<br />]]></p:property><p:property name="textFont"><![CDATA[Arial|normal|normal|13px|none]]></p:property><p:property name="textColor"><![CDATA[#000000FF]]></p:property><p:property name="textAlign"><![CDATA[0,0]]></p:property></p:metadata>

            <defs>
                <rect width="639" height="768" rx="0" ry="0" x="0" y="0" style="stroke-width: 2; fill: rgb(255, 255, 255); fill-opacity: 1; stroke: rgb(27, 50, 128); stroke-opacity: 1;" p:name="rrRect" id="386e4450c9f2435cb01b5ea778f68f42" transform="translate(1,1)"/>
                <filter height="1.2558399" y="-0.12792" width="1.06396" x="-0.03198" p:name="shadingFilter" id="9cfedec9fa304fe59dc3991abcb148ae">
                    <feGaussianBlur stdDeviation="1" in="SourceAlpha"/>
                </filter>
            </defs>
            <use xlink:href="#386e4450c9f2435cb01b5ea778f68f42" xmlns:xlink="http://www.w3.org/1999/xlink" transform="translate(2, 2)" p:filter="url(#9cfedec9fa304fe59dc3991abcb148ae)" style="opacity: 0.5; visibility: hidden; display: none;" p:heavy="true" p:name="bgCopy" id="235c88bafbf443898959cb273669f9bb"/>
            <use xlink:href="#386e4450c9f2435cb01b5ea778f68f42" xmlns:xlink="http://www.w3.org/1999/xlink"/>
            <foreignObject x="96.25" y="96" width="448.5" height="592" p:name="text" id="673877029a60403480641ef3aa6e09ad" style="font-family: Arial; font-size: 13px; font-weight: normal; font-style: normal; text-decoration: none; fill: rgb(0, 0, 0); fill-opacity: 1; color: rgb(0, 0, 0); opacity: 1; text-align: left;"><div xmlns="http://www.w3.org/1999/xhtml">GETTING A LOCK:<br />----------------------------<br />* Create a locking record for Client ID / Object ID<br />* Set lock to status of "Awaiting lock"<br />* Wait synch/asynch MS (milliseconds)<br />* Scan for other locks<br />* First "Awaiting lock" status get the lock.<br />* Set that first record to "Locked"<br />* Set a lock-expiration (if applicable)<br /><br />RELEASING A LOCK:<br />--------------------------------<br />* Ensure still has-lock and not expired.<br />* Set the lock status to "Unlocked"<br />* Record date-time of unlocking<br /><br />MISCELLANEOUS<br />----------------------------<br />* Lock contentions are resolved by giving the lock to the first-in-line (FIFO locking)<br />* Expirations allows dead-client locks to be removed by subsequent clients.<br />* Expirations allow live-clients to keep extending (if alive) their expirations.<br />* Expirations allow live-clients with valid memory data sets to auto-save (if desired).<br />* Expired expirations allow live-clients to test for merge conflicts and resolve.<br /><br />Rules around expirations of data-editing can be built to satisfy even the most discriminating use-cases.<br /><br />Another choice is to "Live-edit", where as soon as data item collections become valid, their data is flushed to storage immediately.<br /><br />There is also other possibilities:<br /><br />1. Showing users the changes that each other is making.<br />2. User-chatting with regard to ad-hoc in-memory changes vs. last DB version.<br /></div></foreignObject>
        </g></Content></Page></Pages></Document>